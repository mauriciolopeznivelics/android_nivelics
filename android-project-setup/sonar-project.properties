# SonarQube Project Configuration for Android Projects
# Copia este archivo a la raíz de tu proyecto Android

# Información del proyecto (PERSONALIZAR)
sonar.projectKey=mi_proyecto_android
sonar.projectName=Mi Proyecto Android
sonar.projectVersion=1.0
sonar.projectDescription=Proyecto Android con análisis de calidad SonarQube

# Configuración de código fuente
sonar.sources=app/src/main/java,app/src/main/kotlin
sonar.tests=app/src/test/java,app/src/test/kotlin,app/src/androidTest/java,app/src/androidTest/kotlin

# Configuración Java/Kotlin
sonar.java.binaries=app/build/intermediates/javac,app/build/tmp/kotlin-classes
sonar.java.libraries=app/build/intermediates/compile_and_runtime_not_namespaced_r_class_jar
sonar.java.test.binaries=app/build/intermediates/javac/debug,app/build/tmp/kotlin-classes/debug
sonar.java.test.libraries=app/build/intermediates/compile_and_runtime_not_namespaced_r_class_jar

# Configuración de idioma
sonar.language=kotlin
sonar.sourceEncoding=UTF-8

# Configuración Android Lint
sonar.android.lint.report=app/build/reports/lint-results.xml,app/build/reports/lint-results-debug.xml

# Configuración JaCoCo Coverage
sonar.coverage.jacoco.xmlReportPaths=app/build/reports/jacoco/testDebugUnitTestCoverage/testDebugUnitTestCoverage.xml,app/build/reports/coverage/androidTest/debug/report.xml

# Exclusiones de cobertura - Archivos generados Android
sonar.coverage.exclusions=\
    **/R.java,\
    **/R$*.java,\
    **/BuildConfig.*,\
    **/Manifest*.*,\
    **/*Test*.*,\
    **/model/**,\
    **/entity/**,\
    **/dto/**,\
    **/databinding/**,\
    **/generated/**,\
    **/build/**,\
    **/*$ViewInjector*.*,\
    **/*$ViewBinder*.*,\
    **/Lambda$*.java,\
    **/Lambda.java,\
    **/*Lambda.java,\
    **/*Lambda*.java,\
    **/*$InjectAdapter.java,\
    **/*$ModuleAdapter.java,\
    **/*$ViewInjector*.java

# Exclusiones Copy-Paste Detection
sonar.cpd.exclusions=\
    **/R.java,\
    **/R$*.java,\
    **/BuildConfig.*,\
    **/Manifest*.*,\
    **/model/**,\
    **/entity/**,\
    **/dto/**,\
    **/databinding/**,\
    **/generated/**

# Configuración de duplicación
sonar.cpd.java.minimumtokens=50
sonar.cpd.kotlin.minimumtokens=50

# Configuración de análisis
sonar.analysis.mode=publish
sonar.dynamicAnalysis=reuseReports

# Exclusiones adicionales para reglas específicas
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Excluir archivos generados de todas las reglas
sonar.issue.ignore.multicriteria.e1.ruleKey=*
sonar.issue.ignore.multicriteria.e1.resourceKey=**/R.java
sonar.issue.ignore.multicriteria.e2.ruleKey=*
sonar.issue.ignore.multicriteria.e2.resourceKey=**/R$*.java
sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/BuildConfig.*
sonar.issue.ignore.multicriteria.e4.ruleKey=*
sonar.issue.ignore.multicriteria.e4.resourceKey=**/Manifest*.*
sonar.issue.ignore.multicriteria.e5.ruleKey=*
sonar.issue.ignore.multicriteria.e5.resourceKey=**/databinding/**

# Configuración específica Kotlin
sonar.kotlin.detekt.reportPaths=app/build/reports/detekt/detekt.xml